(this.webpackJsonphabitable=this.webpackJsonphabitable||[]).push([[0],{36:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),i=n(20),o=n.n(i),r=(n(36),n(14)),s=n(4),u=n.n(s),b=n(11),d=n(7),j=(n.p,n(38),n(39),n(1));var l=function(){return Object(j.jsxs)("header",{className:"MenuBar",children:[Object(j.jsx)("div",{children:Object(j.jsx)("h1",{children:"habitable"})}),Object(j.jsx)("hr",{className:"MenuLine"})]})},h=(n(41),n(42),n(31).DateTime),O=["JANUARY","FEBRUARY","MARCH","APRIL","MAY","JUNE","JULY","AUGUST","SEPTEMBER","OCTOBER","NOVEMBER","DECEMBER"];var f=function(e){var t=e.props,n=O[h.now().c.month],a=Object(c.useContext)(F).setNewContext,i=Object(j.jsx)("button",{className:"addHabitButton",onClick:function(){a(1)},children:"+"});return 1===t?i=Object(j.jsx)("button",{className:"closeHabitButton",onClick:function(){a(0)},children:"X"}):0===t?i=Object(j.jsx)("button",{className:"addHabitButton",onClick:function(){a(1)},children:"+"}):2===t&&(i=Object(j.jsx)("button",{className:"addHabitButton",onClick:function(){a(1)},children:"X"})),Object(j.jsxs)("footer",{className:"footer",children:[Object(j.jsx)("div",{className:"addHabit",children:i}),Object(j.jsx)("hr",{className:"MenuLine"}),Object(j.jsxs)("h4",{className:"time",children:[h.now().c.hour,":",h.now().c.minute]}),Object(j.jsxs)("h6",{className:"date",children:[n," ",h.now().c.day]})]})},p=(n(43),n(44),n(31).DateTime);function x(e){var t=Object(c.useState)(!1),n=Object(d.a)(t,2),a=n[0],i=n[1],o=Object(c.useContext)(F),r=o.setNewContext,s=o.setDB;e.today==p.now().c.day&&!1===a&&i(!0);var l=function(){var t=Object(b.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e.object),n={habitTracking:{longestStreak:e.object.habitTracking.longestStreak,currentStreak:e.object.habitTracking.currentStreak,lastDone:p.now().c.day},key:e.object.key,habitName:e.object.habitName,habitConditions:e.object.habitConditions,habitEffects:e.object.habitEffects,habitAuth:e.object.habitAuth,habitNo:e.object.habitNo},console.log(n),t.next=5,s(n,n);case 5:i(!0);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:e.name}),Object(j.jsxs)("p",{children:["Current Streak: ",e.cStreak]}),Object(j.jsxs)("p",{children:["Longest Streak: ",e.lStreak]}),1!=a?Object(j.jsx)("button",{onClick:function(){l()},children:"Mark as done"}):Object(j.jsx)("button",{children:"Completed"}),Object(j.jsx)("button",{onClick:function(){r(1,e.object)},children:"Edit"})]})}function y(){var e=Object(c.useState)({}),t=Object(d.a)(e,2),n=t[0],a=t[1],i=Object(c.useContext)(F).getDB;Object(c.useEffect)((function(){(function(){var e=Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,i();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var o=[];if("undefined"!==typeof n[0])for(var s=0;s<n.length;s++){var l=Object(r.a)({key:n[s][0]},n[s][1]);o.push(Object(j.jsx)(x,{cStreak:n[s][1].habitTracking.currentStreak,lStreak:n[s][1].habitTracking.longestStreak,today:n[s][1].habitTracking.lastDone,name:n[s][1].habitName,object:l},s))}return Object(j.jsxs)("div",{className:"mainCard",children:[Object(j.jsx)("h3",{className:"titleYourHabits",children:"Your Habits"}),o]})}var v=n(10),k=(n(45),n(28)),m=n(12);function g(e){for(var t=Object(c.useState)(!1),n=Object(d.a)(t,2),a=n[0],i=n[1],o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r=[],s=function(t){var n=e.condObj;n[t]=!e.condObj[t],e.updateObj(e.index,e.type,n)},u=function(t){e.condObj["on"+o[t]]?r.push(Object(j.jsxs)("button",{onClick:function(){s("on"+o[t])},children:[o[t],": Yes"]},t)):r.push(Object(j.jsxs)("button",{onClick:function(){s("on"+o[t])},children:[o[t],": No"]},t))},b=0;b<o.length;b++)u(b);return Object(j.jsx)("div",{children:Object(j.jsxs)("span",{children:["Run task  ",a?Object(j.jsxs)("span",{children:[Object(j.jsx)("button",{onClick:function(){i(!1)},children:"At"})," ",Object(j.jsx)("input",{type:"time"})]}):Object(j.jsxs)("span",{children:[Object(j.jsx)("button",{onClick:function(){i(!0)},children:"Between"})," ",Object(j.jsx)("input",{type:"time"})," and ",Object(j.jsx)("input",{type:"time"})]})," on",Object(j.jsx)("div",{children:r}),Object(j.jsx)("button",{onClick:function(){e.deleteFunc(e.index,e.type)},children:"X"})]})})}function w(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{children:"Use current position"}),Object(j.jsxs)("span",{children:["Longitude: ",Object(j.jsx)("input",{type:"number"})," Latitude: ",Object(j.jsx)("input",{type:"number"})," Radius(M): ",Object(j.jsx)("input",{type:"number",defaultValue:10})]}),Object(j.jsx)("button",{onClick:function(){e.deleteFunc(e.index,e.type)},children:"X"})]})}function C(e){return Object(j.jsx)("div",{children:Object(j.jsx)("button",{onClick:function(){e.triggerValue(e.index,e.value,e.arrayType)},children:e.value})})}function N(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)("input",{type:"text",placeholder:"Your notification text"}),Object(j.jsx)("button",{onClick:function(){e.deleteFunc(e.index,e.type)},children:"X"})]})}function S(e){return Object(j.jsx)("div",{children:"Push Notification (Will send a notification for you to acknowledge on your homescreen)"})}function A(e){return Object(j.jsx)("div",{children:"Check Off Day (You must open Habitable and mark the day as completed beneath your habit)"})}function T(e){return Object(j.jsx)("div",{children:"None. (We don't know if you do your habits or not, and we don't care. We're not your mother.)"})}function E(e){var t=Object(c.useState)([]),n=Object(d.a)(t,2),a=n[0],i=n[1],o=Object(c.useState)([]),s=Object(d.a)(o,2),l=s[0],h=s[1],O=Object(c.useState)([]),f=Object(d.a)(O,2),p=f[0],x=f[1],y=Object(c.useState)({}),E=Object(d.a)(y,2),B=(E[0],E[1]),D=Object(c.useState)(""),M=Object(d.a)(D,2),H=M[0],W=M[1],R=Object(c.useContext)(F),L=R.setDB,Y=R.delDB,P=R.setNewContext,U=[],I=[],J=[];"undefined"!=typeof e.editObj&&""===H&&(i(e.editObj.habitConditions),h(e.editObj.habitEffects),x(e.editObj.habitAuth),B(e.editObj.habitTracking),W(e.editObj.habitName));for(var V=function(){var t=Object(b.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n={habitTracking:{longestStreak:0,currentStreak:0,lastDone:0},habitName:H,habitConditions:a,habitEffects:l,habitAuth:p,habitNo:1},"undefined"==typeof e.editObj){t.next=8;break}return n=Object(r.a)({key:e.editObj.key},n),t.next=5,L(n,e.editObj);case 5:P(0),t.next=11;break;case 8:return t.next=10,L(n);case 10:P(0);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),X=function(){var t=Object(b.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y(e.editObj.key);case 2:P(0);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),G=function(e,t,n){var c=[];"condition"===n&&(c=Object(v.a)(a)),"effect"===n&&(c=Object(v.a)(l)),"And"===t?c.splice(e,1,{type:"AndOr",value:"Or"}):"Or"===t&&c.splice(e,1,{type:"AndOr",value:"And"}),"condition"===n&&i(c),"effect"===n&&h(c)},$=function(e,t){var n=[];"time"!==t&&"geo"!==t||(n=Object(v.a)(a)),"push"===t&&(n=Object(v.a)(l)),e===n.length-1?n.splice(e-1,2):n.splice(e,2),"time"!==t&&"geo"!==t||i(n),"push"===t&&h(n)},q=function(e,t,n){var c=[];"time"!==t&&"geo"!==t||(c=Object(v.a)(a)),"push"===t&&(c=Object(v.a)(l)),c.splice(e,1,n),"time"!==t&&"geo"!==t||i(c),"push"===t&&h(c)},z=0;z<a.length;z++)"time"===a[z].type?U.push(Object(j.jsx)(g,{updateObj:q,condObj:a[z],type:a[z].type,index:z,deleteFunc:$},z)):"geo"===a[z].type?U.push(Object(j.jsx)(w,{type:a[z].type,deleteFunc:$},z)):"AndOr"===a[z].type&&U.push(Object(j.jsx)(C,{index:z,arrayType:"condition",type:a[z].type,value:a[z].value,triggerValue:G},z));for(var K=0;K<l.length;K++)"push"===l[K].type?I.push(Object(j.jsx)(N,{type:l[K].type,index:K,deleteFunc:$},K)):"AndOr"===l[K].type&&I.push(Object(j.jsx)(C,{index:K,arrayType:"effect",type:l[K].type,value:l[K].value,triggerValue:G},K));"authnone"===p&&J.push(Object(j.jsx)(T,{},1)),"authpush"===p&&J.push(Object(j.jsx)(S,{habitName:H},1)),"authcheck"===p&&J.push(Object(j.jsx)(A,{},1));var Q=function(e){"time"===e?a.length>0?i([].concat(Object(v.a)(a),[{type:"AndOr",value:"And"},{type:"time",timeHour:0,timeMinute:0,onSunday:!1,onMonday:!1,onTuesday:!1,onWednesday:!1,onThursday:!1,onFriday:!1,onSaturday:!1}])):i([].concat(Object(v.a)(a),[{type:"time",timeHour:0,timeMinute:0,onSunday:!1,onMonday:!1,onTuesday:!1,onWednesday:!1,onThursday:!1,onFriday:!1,onSaturday:!1}])):"geo"===e&&(a.length>0?i([].concat(Object(v.a)(a),[{type:"AndOr",value:"And"},{type:"geo",lat:0,lon:0,radius:0}])):i([].concat(Object(v.a)(a),[{type:"geo",lat:0,lon:0,radius:0}])))};return Object(j.jsxs)("div",{className:"mainCard",children:["undefined"==typeof e.editObj?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h4",{className:"titleYourHabits",children:"Create a new habit"}),Object(j.jsx)("input",{onChange:function(e){return W(e.target.value)},placeholder:"Habit Name"})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h4",{className:"titleYourHabits",children:"Edit habit"}),Object(j.jsx)("input",{onChange:function(e){return W(e.target.value)},value:H})]}),Object(j.jsx)("h5",{className:"subtitle",children:"Conditions"}),U,Object(j.jsxs)(k.a,{id:"dropdown-basic-button",title:"Add",children:[Object(j.jsx)(m.a.Item,{onClick:function(){Q("time")},children:"Time"}),Object(j.jsx)(m.a.Item,{onClick:function(){Q("geo")},children:"Geolocation"})]}),Object(j.jsx)("h5",{className:"subtitle",children:"Effects"}),I,Object(j.jsx)(k.a,{id:"dropdown-basic-button",title:"Add",children:Object(j.jsx)(m.a.Item,{onClick:function(){"push"==="push"&&(l.length>0?h([].concat(Object(v.a)(l),[{type:"AndOr",value:"And"},{type:"push",text:""}])):h([].concat(Object(v.a)(l),[{type:"push",text:""}])))},children:"Push Notification"})}),Object(j.jsx)("h5",{className:"subtitle",children:"Authentication"}),J,Object(j.jsxs)(k.a,{id:"dropdown-basic-button",title:"Edit",children:[Object(j.jsx)(m.a.Item,{onClick:function(){x("authpush")},children:"Acknowledge Push Notification"}),Object(j.jsx)(m.a.Item,{onClick:function(){x("authcheck")},children:"Check off day"}),Object(j.jsx)(m.a.Item,{onClick:function(){x("authnone")},children:"None"})]}),"undefined"==typeof e.editObj?Object(j.jsx)("button",{onClick:function(){V()},children:"Save new habit"}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("button",{onClick:function(){V()},children:"Save updates"}),Object(j.jsx)("h5",{children:"Or"}),Object(j.jsx)("button",{onClick:function(){X()},children:"Delete this habit"})]})]})}var B=n(17),F=a.a.createContext();function D(){return M.apply(this,arguments)}function M(){return(M=Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(B.b)();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e,t){return W.apply(this,arguments)}function W(){return(W=Object(b.a)(u.a.mark((function e(t,n){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:if("undefined"===typeof(c=e.sent)[0]){e.next=14;break}if("undefined"!=typeof n){e.next=10;break}return t=Object(r.a)({key:"habit".concat(c.length+1)},t),e.next=8,Object(B.c)("habit".concat(c.length+1),t);case 8:e.next=12;break;case 10:return e.next=12,Object(B.c)(n.key,t);case 12:e.next=17;break;case 14:return t=Object(r.a)({key:"habit0"},t),e.next=17,Object(B.c)("habit0",t);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){return L.apply(this,arguments)}function L(){return(L=Object(b.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(B.a)(t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Y=function(){var e=Object(c.useState)(0),t=Object(d.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)({}),o=Object(d.a)(i,2),r=o[0],s=o[1],u=Object(j.jsx)(y,{});return 0===n?u=Object(j.jsx)(y,{}):1===n&&(u=Object(j.jsx)(E,{editObj:r}),console.log(r)),Object(j.jsx)(F.Provider,{value:{setNewContext:function(e,t){console.log(t),s(t),a(e)},setDB:H,getDB:D,delDB:R},children:Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(l,{}),u,Object(j.jsx)(f,{props:n})]})})},P=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function U(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,56)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),i(e),o(e)}))};o.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(Y,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/habitable",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/habitable","/service-worker.js");P?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var c=n.headers.get("content-type");404===n.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):U(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):U(t,e)}))}}(),I()}},[[49,1,2]]]);
//# sourceMappingURL=main.17488d72.chunk.js.map