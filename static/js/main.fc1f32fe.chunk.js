(this.webpackJsonphabitable=this.webpackJsonphabitable||[]).push([[0],{40:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),i=n(21),r=n.n(i),o=(n(40),n(15)),s=n(7),u=n.n(s),b=n(12),d=n(9),j=(n.p,n(42),n(43),n(1));var l=function(){return Object(j.jsx)("header",{className:"MenuBar",children:Object(j.jsx)("div",{children:Object(j.jsx)("h1",{children:"Habitable."})})})},h=(n(45),n(46),n(31).DateTime),O=["JANUARY","FEBRUARY","MARCH","APRIL","MAY","JUNE","JULY","AUGUST","SEPTEMBER","OCTOBER","NOVEMBER","DECEMBER"];var p=function(e){var t=e.props,n=O[h.now().c.month],a=Object(c.useContext)(M).setNewContext,i=Object(j.jsx)("button",{className:"addHabitButton",onClick:function(){a(1)},children:"+"});return 1===t?i=Object(j.jsx)("button",{className:"closeHabitButton",onClick:function(){a(0)},children:"X"}):0===t?i=Object(j.jsx)("button",{className:"addHabitButton",onClick:function(){a(1)},children:"+"}):2===t&&(i=Object(j.jsx)("button",{className:"addHabitButton",onClick:function(){a(1)},children:"X"})),Object(j.jsxs)("footer",{className:"footer",children:[Object(j.jsx)("div",{className:"addHabit",children:i}),Object(j.jsx)("div",{className:"timeWrapper",children:Object(j.jsxs)("div",{className:"clockColour",children:[Object(j.jsxs)("h4",{className:"time",children:[h.now().c.hour,":",h.now().c.minute]}),Object(j.jsxs)("h6",{className:"date",children:[n," ",h.now().c.day]})]})})]})},f=(n(47),n(8)),x=(n(48),n(31).DateTime);function v(e){var t=Object(c.useState)(!1),n=Object(d.a)(t,2),a=n[0],i=n[1],r=Object(c.useContext)(M),o=r.setNewContext,s=r.setDB;e.today==x.now().c.day&&!1===a&&i(!0);var l=function(){var t=Object(b.a)(u.a.mark((function t(){var n,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=0,0,e.object.lastDone==x.now().plus({days:-1}).day?1:0,n=e.object.habitTracking.longestStreak<e.object.habitTracking.currentStreak+1?e.object.habitTracking.currentStreak+1:e.object.habitTracking.longestStreak,c={habitTracking:{longestStreak:n,currentStreak:e.object.habitTracking.currentStreak,lastDone:x.now().c.day},key:e.object.key,habitName:e.object.habitName,habitConditions:e.object.habitConditions,habitEffects:e.object.habitEffects,habitAuth:e.object.habitAuth,habitNo:e.object.habitNo},console.log(c),t.next=8,s(c,c);case 8:i(!0);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(j.jsxs)("div",{onClick:function(){l()},className:"habitWrapper",children:[1!=a?Object(j.jsxs)("div",{className:"habitContent habitContentIncomplete",children:[Object(j.jsx)("h5",{children:e.name}),Object(j.jsxs)("p",{children:["Current Streak: ",e.cStreak]}),Object(j.jsxs)("p",{children:["Longest Streak: ",e.lStreak]})]}):Object(j.jsxs)("div",{className:"habitContent habitContentComplete",children:[Object(j.jsx)("h5",{children:e.name}),Object(j.jsxs)("p",{children:["Current Streak: ",e.cStreak]}),Object(j.jsxs)("p",{children:["Longest Streak: ",e.lStreak]})]}),Object(j.jsx)("div",{children:Object(j.jsx)(f.a,{onClick:function(){o(1,e.object)},variant:"outline-info",size:"sm",children:"Edit"})})]})}var y=n(33),k=n(34),m=n(32);function g(){var e=Object(c.useState)({}),t=Object(d.a)(e,2),n=t[0],a=t[1],i=Object(c.useContext)(M).getDB;Object(c.useEffect)((function(){(function(){var e=Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,i();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var r=[];if("undefined"!==typeof n[0])for(var s=0;s<n.length;s++){var l=Object(o.a)({key:n[s][0]},n[s][1]);r.push(Object(j.jsx)(m.a,{xs:6,children:Object(j.jsx)("div",{className:"habit",children:Object(j.jsx)(v,{cStreak:n[s][1].habitTracking.currentStreak,lStreak:n[s][1].habitTracking.longestStreak,today:n[s][1].habitTracking.lastDone,name:n[s][1].habitName,object:l},s)})}))}return Object(j.jsxs)("div",{className:"mainCard",children:[Object(j.jsx)("h3",{className:"titleYourHabits",children:"Your Habits"}),Object(j.jsx)(y.a,{children:Object(j.jsx)(k.a,{children:r})})]})}var w=n(11),C=(n(49),n(29)),N=n(13);function S(e){for(var t=Object(c.useState)(!1),n=Object(d.a)(t,2),a=n[0],i=n[1],r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o=[],s=function(t){var n=e.condObj;n[t]=!e.condObj[t],e.updateObj(e.index,e.type,n)},u=function(t){e.condObj["on"+r[t]]?o.push(Object(j.jsxs)(f.a,{variant:"light",onClick:function(){s("on"+r[t])},children:[r[t],": Yes"]},t)):o.push(Object(j.jsxs)(f.a,{variant:"light",onClick:function(){s("on"+r[t])},children:[r[t],": No"]},t))},b=0;b<r.length;b++)u(b);return Object(j.jsx)("div",{children:Object(j.jsxs)("span",{children:["Run task  ",a?Object(j.jsxs)("span",{children:[Object(j.jsx)(f.a,{variant:"light",onClick:function(){i(!1)},children:"At"})," ",Object(j.jsx)("input",{type:"time"})]}):Object(j.jsxs)("span",{children:[Object(j.jsx)(f.a,{variant:"light",onClick:function(){i(!0)},children:"Between"})," ",Object(j.jsx)("input",{type:"time"})," and ",Object(j.jsx)("input",{type:"time"})]})," on",Object(j.jsx)("div",{children:o}),Object(j.jsx)(f.a,{variant:"outline-danger",onClick:function(){e.deleteFunc(e.index,e.type)},children:"X"})]})})}function A(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)(f.a,{variant:"light",children:"Use current position"}),Object(j.jsxs)("span",{children:["Longitude: ",Object(j.jsx)("input",{type:"number"})," Latitude: ",Object(j.jsx)("input",{type:"number"})," Radius(M): ",Object(j.jsx)("input",{type:"number",defaultValue:10})]}),Object(j.jsx)(f.a,{variant:"outline-danger",onClick:function(){e.deleteFunc(e.index,e.type)},children:"X"})]})}function T(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)(f.a,{variant:"outline-info",onClick:function(){e.triggerValue(e.index,e.value,e.arrayType)},children:e.value})," "]})}function E(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)("input",{type:"text",placeholder:"Your notification text"}),Object(j.jsx)(f.a,{variant:"outline-danger",onClick:function(){e.deleteFunc(e.index,e.type)},children:"X"})]})}function B(e){return Object(j.jsx)("div",{children:"Push Notification (Will send a notification for you to acknowledge on your homescreen)"})}function D(e){return Object(j.jsx)("div",{children:"Check Off Day (You must open Habitable and mark the day as completed beneath your habit)"})}function F(e){return Object(j.jsx)("div",{children:"None. (We don't know if you do your habits or not, and we don't care. We're not your mother.)"})}function H(e){var t=Object(c.useState)([]),a=Object(d.a)(t,2),i=a[0],r=a[1],s=Object(c.useState)([]),l=Object(d.a)(s,2),h=l[0],O=l[1],p=Object(c.useState)([]),x=Object(d.a)(p,2),v=x[0],y=x[1],k=Object(c.useState)({}),m=Object(d.a)(k,2),g=(m[0],m[1]),H=Object(c.useState)(""),W=Object(d.a)(H,2),R=W[0],Y=W[1],I=Object(c.useContext)(M),L=I.setDB,P=I.delDB,U=I.setNewContext,J=[],V=[],X=[],G=n(31).DateTime;"undefined"!=typeof e.editObj&&""===R&&(r(e.editObj.habitConditions),O(e.editObj.habitEffects),y(e.editObj.habitAuth),g(e.editObj.habitTracking),Y(e.editObj.habitName));for(var z=function(){var t=Object(b.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n={habitTracking:{longestStreak:0,currentStreak:0,lastDone:G.now().c.day},habitName:R,habitConditions:i,habitEffects:h,habitAuth:v,habitNo:1},"undefined"==typeof e.editObj){t.next=8;break}return n=Object(o.a)({key:e.editObj.key},n),t.next=5,L(n,e.editObj);case 5:U(0),t.next=11;break;case 8:return t.next=10,L(n);case 10:U(0);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),$=function(){var t=Object(b.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P(e.editObj.key);case 2:U(0);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),q=function(e,t,n){var c=[];"condition"===n&&(c=Object(w.a)(i)),"effect"===n&&(c=Object(w.a)(h)),"And"===t?c.splice(e,1,{type:"AndOr",value:"Or"}):"Or"===t&&c.splice(e,1,{type:"AndOr",value:"And"}),"condition"===n&&r(c),"effect"===n&&O(c)},K=function(e,t){var n=[];"time"!==t&&"geo"!==t||(n=Object(w.a)(i)),"push"===t&&(n=Object(w.a)(h)),e===n.length-1?n.splice(e-1,2):n.splice(e,2),"time"!==t&&"geo"!==t||r(n),"push"===t&&O(n)},Q=function(e,t,n){var c=[];"time"!==t&&"geo"!==t||(c=Object(w.a)(i)),"push"===t&&(c=Object(w.a)(h)),c.splice(e,1,n),"time"!==t&&"geo"!==t||r(c),"push"===t&&O(c)},Z=0;Z<i.length;Z++)"time"===i[Z].type?J.push(Object(j.jsx)(S,{updateObj:Q,condObj:i[Z],type:i[Z].type,index:Z,deleteFunc:K},Z)):"geo"===i[Z].type?J.push(Object(j.jsx)(A,{type:i[Z].type,deleteFunc:K},Z)):"AndOr"===i[Z].type&&J.push(Object(j.jsx)(T,{index:Z,arrayType:"condition",type:i[Z].type,value:i[Z].value,triggerValue:q},Z));for(var _=0;_<h.length;_++)"push"===h[_].type?V.push(Object(j.jsx)(E,{type:h[_].type,index:_,deleteFunc:K},_)):"AndOr"===h[_].type&&V.push(Object(j.jsx)(T,{index:_,arrayType:"effect",type:h[_].type,value:h[_].value,triggerValue:q},_));"authnone"===v&&X.push(Object(j.jsx)(F,{},1)),"authpush"===v&&X.push(Object(j.jsx)(B,{habitName:R},1)),"authcheck"===v&&X.push(Object(j.jsx)(D,{},1));var ee=function(e){"time"===e?i.length>0?r([].concat(Object(w.a)(i),[{type:"AndOr",value:"And"},{type:"time",timeHour:0,timeMinute:0,onSunday:!1,onMonday:!1,onTuesday:!1,onWednesday:!1,onThursday:!1,onFriday:!1,onSaturday:!1}])):r([].concat(Object(w.a)(i),[{type:"time",timeHour:0,timeMinute:0,onSunday:!1,onMonday:!1,onTuesday:!1,onWednesday:!1,onThursday:!1,onFriday:!1,onSaturday:!1}])):"geo"===e&&(i.length>0?r([].concat(Object(w.a)(i),[{type:"AndOr",value:"And"},{type:"geo",lat:0,lon:0,radius:0}])):r([].concat(Object(w.a)(i),[{type:"geo",lat:0,lon:0,radius:0}])))};return Object(j.jsxs)("div",{className:"mainCard",children:["undefined"==typeof e.editObj?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h4",{className:"titleYourHabits",children:"Create a new habit"}),Object(j.jsx)("input",{onChange:function(e){return Y(e.target.value)},placeholder:"Habit Name"})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h4",{className:"titleYourHabits",children:"Edit habit"}),Object(j.jsx)("input",{onChange:function(e){return Y(e.target.value)},value:R})]}),Object(j.jsx)("h5",{className:"subtitle",children:"Conditions"}),J,Object(j.jsxs)(C.a,{id:"dropdown-basic-button",title:"Add",children:[Object(j.jsx)(N.a.Item,{onClick:function(){ee("time")},children:"Time"}),Object(j.jsx)(N.a.Item,{onClick:function(){ee("geo")},children:"Geolocation"})]}),Object(j.jsx)("h5",{className:"subtitle",children:"Effects"}),V,Object(j.jsx)(C.a,{id:"dropdown-basic-button",title:"Add",children:Object(j.jsx)(N.a.Item,{onClick:function(){"push"==="push"&&(h.length>0?O([].concat(Object(w.a)(h),[{type:"AndOr",value:"And"},{type:"push",text:""}])):O([].concat(Object(w.a)(h),[{type:"push",text:""}])))},children:"Push Notification"})}),Object(j.jsx)("h5",{className:"subtitle",children:"Authentication"}),X,Object(j.jsxs)(C.a,{id:"dropdown-basic-button",title:"Edit",children:[Object(j.jsx)(N.a.Item,{onClick:function(){y("authpush")},children:"Acknowledge Push Notification"}),Object(j.jsx)(N.a.Item,{onClick:function(){y("authcheck")},children:"Check off day"}),Object(j.jsx)(N.a.Item,{onClick:function(){y("authnone")},children:"None"})]}),Object(j.jsx)("br",{}),"undefined"==typeof e.editObj?Object(j.jsx)(f.a,{onClick:function(){z()},variant:"success",children:"Save new habit"}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(f.a,{onClick:function(){z()},variant:"success",children:"Save updates"}),Object(j.jsx)("h5",{children:"Or"}),Object(j.jsx)(f.a,{onClick:function(){$()},variant:"warning",children:"Delete Habit"})]})]})}var W=n(18),M=a.a.createContext();function R(){return Y.apply(this,arguments)}function Y(){return(Y=Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(W.b)();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e,t){return L.apply(this,arguments)}function L(){return(L=Object(b.a)(u.a.mark((function e(t,n){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R();case 2:if("undefined"===typeof(c=e.sent)[0]){e.next=14;break}if("undefined"!=typeof n){e.next=10;break}return t=Object(o.a)({key:"habit".concat(c.length+1)},t),e.next=8,Object(W.c)("habit".concat(c.length+1),t);case 8:e.next=12;break;case 10:return e.next=12,Object(W.c)(n.key,t);case 12:e.next=17;break;case 14:return t=Object(o.a)({key:"habit0"},t),e.next=17,Object(W.c)("habit0",t);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){return U.apply(this,arguments)}function U(){return(U=Object(b.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(W.a)(t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var J=function(){var e=Object(c.useState)(0),t=Object(d.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)({}),r=Object(d.a)(i,2),o=r[0],s=r[1],u=Object(j.jsx)(g,{});return 0===n?u=Object(j.jsx)(g,{}):1===n&&(u=Object(j.jsx)(H,{editObj:o}),console.log(o)),Object(j.jsx)(M.Provider,{value:{setNewContext:function(e,t){console.log(t),s(t),a(e)},setDB:I,getDB:R,delDB:P},children:Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(l,{}),u,Object(j.jsx)(p,{props:n})]})})},V=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function X(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var G=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,57)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),i(e),r(e)}))};r.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(J,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/habitable",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/habitable","/service-worker.js");V?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var c=n.headers.get("content-type");404===n.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):X(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):X(t,e)}))}}(),G()}},[[53,1,2]]]);
//# sourceMappingURL=main.fc1f32fe.chunk.js.map